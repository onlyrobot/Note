# 计算机组成原理

## 计算机发展历史

* 1940s的电子管计算机
* 1950s的晶体管计算机
* 1960s的小中规模集成电路
* 1970-当前的大、超大规模集成电路

## 存储程序的思想

存储程序的思想是冯诺依曼为首的研究小组提出的计算机结构可以概括为以下几点

* 计算机硬件作为执行程序的主体
* 二进制表示指令和数据
* 将编好的程序和数据实现存入存储器中，然后启动计算机工作

## 哈佛结构的计算机系统

基本思想是将程序和数据分开存储，从而在数据指令的设计和传输上拥有更高灵活性。

## 计算机硬件

* 输入设备：负责将编好的程序和数据以计算机能够理解的符号输入
* 输出设备：将计算机中用符号表示的数据用数字、字符、图像等方式输出
* 存储器：存储程序实现的基础，能够将程序和数据存储下来
* 运算器：对信息进行处理和运算的部件
* 控制器：根据程序指令控制整个计算机有条不紊的运作

### 计算机硬件的连接——总线结构

* 地址总线
* 数据总线
* 控制总线

总线结构能够有提高系统CPU工作效率，使得外设连接灵活，易于扩充。但同时也会导致同一时刻只能对某一设备进行数据传输或控制。

## 计算机硬件和软件的区别和联系

硬件是软件的基础，软件是操作硬件的执行过程，对于一个功能来说，我们既可以纯硬件的来实现，也可以在硬件实现基本操作后用软件来实现。

## 计算机系统的多层次结构

硬联逻辑（实际机器）->微程序机器（微指令系统）->传统机器（机器指令语言）->操作系统机器（虚拟机器、作业控制语言等）->汇编语言机器（虚拟机器、汇编语言）->高级语言机器（虚拟机器、高级语言）->应用语言机器（虚拟机器、应用语言）

## 计算机性能指标

* 机器字长：参与运算的数的基本位数，一般也等于寄存器的位数
* 数据通路宽度：数据总线一次所能并行传输的数据位数
* 主存容量
* 运算速度：具体衡量方式有：吞吐量和响应时间、主频和CPU时钟周期、CPI（每条指令执行所需的时钟周期）、CPU执行时间等

## 计算机中的数值表示

* 原码表示
* 反码表示
* 补码表示

数的类型

* 定点数（纯整数）
* 浮点数（小数）

十进制的编码方式

* BCD码
* 字符表示法

## 计算机中非数值数据表示

* 字符（ASCII）、字符串
* 汉字、编码方式

## 数据校验码

* 奇偶校验码：简单奇偶校验，交叉奇偶校验
* 海明码
* 循环冗余校验码

## 指令系统

基本格式：操作码字段+地址码字段。其中操作码指明了要执行如何操作，地址码指定了数据的地址。对与一般二元操作指令操作码由以下几部分组成：

* 第一操作数地址$A_1$
* 第二操作数地址$A_2$
* 结果存放地址$A_3$
* 下一条指令的地址$A_4$

分类

|地址数量|介绍|执行速度|适用场景|
|:-:|:-:|:-:|:-:|
|四地址指令|/|/|一般不使用|
|三地址|PC计数器加一隐含指令地址|一般|以向量、矩阵运算为主|
|二地址|结果存放地址为第一操作数的地址|很低|一般不宜采用|
|一地址|其中一个操作数在寄存器中|较快|连续运算，硬件结构简单|
|零地址|一般用在堆栈计算机中|最低|嵌套、递归问题|

操作码的编码方式有：

* 定长编码：实现简单，译码时间短
* 变长编码：更高的灵活性

## 寻址技术

编址方式：

* 字编址：按照计算机字长的大小为每个存储空间分配地址
* 字节编址：为每个字节分配一个地址
* 位编址：对地址信息浪费最大

基本数据寻址方式：

* 立即寻址：操作数就在地址码里面
* 寄存器寻址：地址码指定的是寄存器的地址
* 直接寻址：按照地址码给定的地址直接寻址
* 间接寻址：地址码给定的是存放操作数地址的地址，需要在地址码前面用@符来表示。间接寻址可以拓展到多级的间接寻址
* 寄存器间接寻址：寄存器中存放操作数的地址
* 变址寻址：将变址寄存器$R_x$的内容与地址码中的地址相加得到有效地址。
* 基址寻址：将寄存器$R_b$的内容和地址码中的位移量相加得到有效地址，其中位移量可正可负
* 相对寻址：以（PC）计数器提供基准地址，地址码中指定偏移量得到有效地址。
* 页面寻址：将主存储空间分为若干大小相同的区，每个区称为一页，每一页分配一个页面地址。具体可分为基页寻址、当前页寻址和页寄存器寻址。
* 变形或组合寻址方式：通过以上寻址方式变型或者组合得到，具体由自增（自减）型寄存器间接寻址、拓展编址方式和基址变址寻址。

## 堆栈与堆栈操作

堆栈可分为寄存器堆栈（栈顶位置固定）和存储器堆栈（栈顶位置可变）堆栈的操作指令有以下几个：

## 指令类型

* 数据传输类

> * 一般传送指令：MOV
> * 堆栈操作指令：PUSH、POP
> * 数据交换指令

* 运算类

> * 算术运算类指令
> * 逻辑运算类指令
> * 移位类指令

* 程序控制类指令

> * 转移指令：JMP
> * 子程序调用指令：CALL
> * 返回指令：RET

* 输入输出类指令

> * 独立编址的I/O指令
> * 统一编址的I/O指令

## 指令系统的发展

各种指令集。。。

复杂指令系统、精简指令系统
